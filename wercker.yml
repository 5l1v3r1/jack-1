box: python:3.6.1

no-response-timeout: 30
command-timeout: 30
build:
  steps:
    - pip-install

    - script:
        name: install
        code: |
          sudo apt-get update
          sudo apt-get -y install libtk8.6
          pip3 install --upgrade -r requirements.txt
          python3 setup.py install

    - script:
        name: echo python information
        code: |
          echo "python version $(python --version) running"
          echo "pip version $(pip --version) running"
          ls

    - script:
        name: Run unit tests
        code: |
          pytest tests -v -m "not (overfit or smalldata)"

    - script:
        name: Run overfit integration tests
        code: |
          pytest tests -v -m "overfit"

    - script:
        name: Run small data integration tests
        code: |
          pytest tests -v -m "smalldata"
